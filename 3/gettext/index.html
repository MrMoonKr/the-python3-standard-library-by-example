<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>gettext — Message Catalogs &mdash; PyMOTW 3</title>

    <link rel="stylesheet" href="../_static/pure-min.css" type="text/css">
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/font-awesome/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pymotw.css" type="text/css">

    <link rel="shortcut icon" type="image/png" href="../_static/favicon.png">

    <link rel="alternate" type="application/atom+xml"
          title="Doug Hellmann"
          href="https://feeds.feedburner.com/DougHellmann" />
    <link rel="alternate" type="application/atom+xml"
          title="PyMOTW Updates"
          href="https://feeds.feedburner.com/PyMOTW" />

    <meta name="verify-v1" content="5saTcOa2HLac4V85yUg3SARfun1PqT5Upu7IR/6fpv4="/>

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@pymotw" />
    <meta name="twitter:title" content="gettext — Message Catalogs" />
    <meta name="twitter:image" content="https://pymotw.com/3/_static/logo-large.png" />

  </head>
  <body>

    <div class="pure-menu pure-menu-open pure-menu-horizontal" id="site-menu">
      <a class="pure-menu-heading" href="../index.html"><img src="../_static/logo.png"> PyMOTW-3</a>

      <ul id="top-menu">
        <li class="pure-menu-selected"><a href="../py-modindex.html"><i class="fa fa-list fa-lg"></i> Module Index</a></li>
        <li class="pure-menu-selected"><a href="../genindex.html"><i class="fa fa-italic fa-lg"></i> Index</a></li>
        <li class="pure-menu-selected"><a class="sociallink" href="http://www.twitter.com/pymotw"
       title="Twitter">
      <i class="fa fa-twitter fa-lg"></i></a></a>
        <li class="pure-menu-selected"><a class="sociallink" href="https://feeds.feedburner.com/PyMOTW"
       title="Subscribe via RSS">
      <i class="fa fa-rss-square fa-lg"></i></a></li>
      </ul>

    </div>

    <div class="pure-menu pure-menu-open pure-menu-vertical" id="breadcrumbs-menu">
      
      <ul id="breadcrumbs">
        <li class="pure-menu-selected"><a href="../i18n.html"><i class="fa fa-arrow-circle-up"></i> Internationalization and Localization</a></li>
      </ul>
    </div>

    <div class="pure-g-r" id="content-container">

      <div class="pure-u-3-4">
        <div class="content">
          
  <div class="section" id="module-gettext">
<span id="gettext-message-catalogs"></span><h1>gettext — Message Catalogs<a class="headerlink" href="#module-gettext" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Purpose:</th><td class="field-body">Message catalog API for internationalization.</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">gettext</span></code> module provides a pure-Python implementation
compatible with the GNU <strong>gettext</strong> library for message translation
and catalog management.  The tools available with the Python source
distribution enable you to extract messages from a set of source
files, build a message catalog containing translations, and use that
message catalog to display an appropriate message for the user at
runtime.</p>
<p>Message catalogs can be used to provide internationalized interfaces
for a program, showing messages in a language appropriate to the user.
They can also be used for other message customizations, including
“skinning” an interface for different wrappers or partners.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Although the standard library documentation says all of the
necessary tools are included with Python, <code class="docutils literal notranslate"><span class="pre">pygettext.py</span></code> failed
to extract messages wrapped in the <code class="docutils literal notranslate"><span class="pre">ngettext</span></code> call, even with
the appropriate command line options. These examples use
<code class="docutils literal notranslate"><span class="pre">xgettext</span></code> from the GNU <strong>gettext</strong> tool set, instead.</p>
</div>
<div class="section" id="translation-workflow-overview">
<h2>Translation Workflow Overview<a class="headerlink" href="#translation-workflow-overview" title="Permalink to this headline">¶</a></h2>
<p>The process for setting up and using translations includes five steps.</p>
<ol class="arabic">
<li><p class="first"><em>Identify and mark up literal strings in the source code that
contain messages to translate.</em></p>
<p>Start by identifying the messages within the program source that
need to be translated, and marking the literal strings so the
extraction program can find them.</p>
</li>
<li><p class="first"><em>Extract the messages.</em></p>
<p>After the translatable strings in the source are identified, use
<code class="docutils literal notranslate"><span class="pre">xgettext</span></code> to extract them and create a <code class="docutils literal notranslate"><span class="pre">.pot</span></code> file, or
<em>translation template</em>. The template is a text file with copies of
all of the strings identified and placeholders for their
translations.</p>
</li>
<li><p class="first"><em>Translate the messages.</em></p>
<p>Give a copy of the <code class="docutils literal notranslate"><span class="pre">.pot</span></code> file to the translator, changing the
extension to <code class="docutils literal notranslate"><span class="pre">.po</span></code>. The <code class="docutils literal notranslate"><span class="pre">.po</span></code> file is an editable source file
used as input for the compilation step. The translator should
update the header text in the file and provide translations for all
of the strings.</p>
</li>
<li><p class="first"><em>“Compile” the message catalog from the translation.</em></p>
<p>When the translator sends back the completed <code class="docutils literal notranslate"><span class="pre">.po</span></code> file, compile
the text file to the binary catalog format using <code class="docutils literal notranslate"><span class="pre">msgfmt</span></code>. The
binary format is used by the runtime catalog lookup code.</p>
</li>
<li><p class="first"><em>Load and activate the appropriate message catalog at runtime.</em></p>
<p>The final step is to add a few lines to the application to
configure and load the message catalog and install the translation
function. There are a couple of ways to do that, with associated
trade-offs.</p>
</li>
</ol>
<p>The rest of this section will examine those steps in a little more
detail, starting with the code modifications needed.</p>
</div>
<div class="section" id="creating-message-catalogs-from-source-code">
<h2>Creating Message Catalogs from Source Code<a class="headerlink" href="#creating-message-catalogs-from-source-code" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">gettext</span></code> works by looking up literal strings in a database of
translations, and pulling out the appropriate translated string.  The
usual pattern is to bind the appropriate lookup function to the name
“<code class="docutils literal notranslate"><span class="pre">_</span></code>” (a single underscore character) so that the code is not
cluttered with a lot of calls to functions with longer names.</p>
<p>The message extraction program, <code class="docutils literal notranslate"><span class="pre">xgettext</span></code>, looks for messages
embedded in calls to the catalog lookup functions.  It understands
different source languages and uses an appropriate parser for each.
If the lookup functions are aliased, or extra functions are added,
give <code class="docutils literal notranslate"><span class="pre">xgettext</span></code> the names of additional symbols to consider when
extracting messages.</p>
<p>This script has a single message ready to be translated.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">gettext_example.py</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gettext</span>

<span class="c1"># Set up message catalog access</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">gettext</span><span class="o">.</span><span class="n">translation</span><span class="p">(</span>
    <span class="s1">&#39;example_domain&#39;</span><span class="p">,</span> <span class="s1">&#39;locale&#39;</span><span class="p">,</span>
    <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">gettext</span>

<span class="nb">print</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;This message is in the script.&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>The text <code class="docutils literal notranslate"><span class="pre">&quot;This</span> <span class="pre">message</span> <span class="pre">is</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">script.&quot;</span></code> is the message to be
substituted from the catalog.  Fallback mode is enabled, so if the
script is run without a message catalog, the in-lined message is
printed.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 gettext_example.py

This message is in the script.
</pre></div>
</div>
<p>The next step is to extract the message and create the <code class="docutils literal notranslate"><span class="pre">.pot</span></code> file,
using <code class="docutils literal notranslate"><span class="pre">pygettext.py</span></code> or <code class="docutils literal notranslate"><span class="pre">xgettext</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ xgettext -o example.pot gettext_example.py
</pre></div>
</div>
<p>The output file produced contains the following content.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">example.pot</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># SOME DESCRIPTIVE TITLE.</span>
<span class="c1"># Copyright (C) YEAR THE PACKAGE&#39;S COPYRIGHT HOLDER</span>
<span class="c1"># This file is distributed under the same license as the PACKAGE package.</span>
<span class="c1"># FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR.</span>
<span class="c1">#</span>
<span class="c1">#, fuzzy</span>
<span class="n">msgid</span> <span class="s2">&quot;&quot;</span>
<span class="n">msgstr</span> <span class="s2">&quot;&quot;</span>
<span class="s2">&quot;Project-Id-Version: PACKAGE VERSION</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Report-Msgid-Bugs-To: </span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;POT-Creation-Date: 2018-03-18 16:20-0400</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Last-Translator: FULL NAME &lt;EMAIL@ADDRESS&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Language-Team: LANGUAGE &lt;LL@li.org&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Language: </span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;MIME-Version: 1.0</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Content-Type: text/plain; charset=CHARSET</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Content-Transfer-Encoding: 8bit</span><span class="se">\n</span><span class="s2">&quot;</span>

<span class="c1">#: gettext_example.py:19</span>
<span class="n">msgid</span> <span class="s2">&quot;This message is in the script.&quot;</span>
<span class="n">msgstr</span> <span class="s2">&quot;&quot;</span>
</pre></div>
</div>
</div>
<p>Message catalogs are installed into directories organized by <em>domain</em>
and <em>language</em>.  The domain is provided by the application or library,
and is usually a unique value like the application name.  In this
case, the domain in <code class="docutils literal notranslate"><span class="pre">gettext_example.py</span></code> is <code class="docutils literal notranslate"><span class="pre">example_domain</span></code>.  The
language value is provided by the user’s environment at runtime,
through one of the environment variables <code class="docutils literal notranslate"><span class="pre">LANGUAGE</span></code>, <code class="docutils literal notranslate"><span class="pre">LC_ALL</span></code>,
<code class="docutils literal notranslate"><span class="pre">LC_MESSAGES</span></code>, or <code class="docutils literal notranslate"><span class="pre">LANG</span></code>, depending on their configuration and
platform.  These examples were all run with the language set to
<code class="docutils literal notranslate"><span class="pre">en_US</span></code>.</p>
<p>Now that the template is ready, the next step is to create the
required directory structure and copy the template in to the right
spot.  The <code class="docutils literal notranslate"><span class="pre">locale</span></code> directory inside the PyMOTW source tree will
serve as the root of the message catalog directory for these examples,
but it is typically better to use a directory accessible system-wide
so that all users have access to the message catalogs.  The full path
to the catalog input source is
<code class="docutils literal notranslate"><span class="pre">$localedir/$language/LC_MESSAGES/$domain.po</span></code>, and the actual
catalog has the filename extension <code class="docutils literal notranslate"><span class="pre">.mo</span></code>.</p>
<p>The catalog is created by copying <code class="docutils literal notranslate"><span class="pre">example.pot</span></code> to
<code class="docutils literal notranslate"><span class="pre">locale/en_US/LC_MESSAGES/example.po</span></code> and editing it to change
the values in the header and set the alternate messages.  The result
is shown next.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">locale/en_US/LC_MESSAGES/example.po</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Messages from gettext_example.py.</span>
<span class="c1"># Copyright (C) 2009 Doug Hellmann</span>
<span class="c1"># Doug Hellmann &lt;doug@doughellmann.com&gt;, 2016.</span>
<span class="c1">#</span>
<span class="n">msgid</span> <span class="s2">&quot;&quot;</span>
<span class="n">msgstr</span> <span class="s2">&quot;&quot;</span>
<span class="s2">&quot;Project-Id-Version: PyMOTW-3</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Report-Msgid-Bugs-To: Doug Hellmann &lt;doug@doughellmann.com&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;POT-Creation-Date: 2016-01-24 13:04-0500</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;PO-Revision-Date: 2016-01-24 13:04-0500</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Last-Translator: Doug Hellmann &lt;doug@doughellmann.com&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Language-Team: US English &lt;doug@doughellmann.com&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;MIME-Version: 1.0</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Content-Type: text/plain; charset=UTF-8</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Content-Transfer-Encoding: 8bit</span><span class="se">\n</span><span class="s2">&quot;</span>


<span class="c1">#: gettext_example.py:16</span>
<span class="n">msgid</span> <span class="s2">&quot;This message is in the script.&quot;</span>
<span class="n">msgstr</span> <span class="s2">&quot;This message is in the en_US catalog.&quot;</span>

</pre></div>
</div>
</div>
<p>The catalog is built from the <code class="docutils literal notranslate"><span class="pre">.po</span></code> file using <code class="docutils literal notranslate"><span class="pre">msgformat</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ cd locale/en_US/LC_MESSAGES; msgfmt -o example.mo example.po
</pre></div>
</div>
<p>The domain in <code class="docutils literal notranslate"><span class="pre">gettext_example.py</span></code> is <code class="docutils literal notranslate"><span class="pre">example_domain</span></code>, but the
file is called <code class="docutils literal notranslate"><span class="pre">example.pot</span></code>. To have <code class="docutils literal notranslate"><span class="pre">gettext</span></code> find the right
translation file, the names need to match.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">gettext_example_corrected.py</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">gettext</span><span class="o">.</span><span class="n">translation</span><span class="p">(</span>
    <span class="s1">&#39;example&#39;</span><span class="p">,</span> <span class="s1">&#39;locale&#39;</span><span class="p">,</span>
    <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<p>Now when the script is run, the message from the catalog is printed
instead of the in-line string.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 gettext_example_corrected.py

This message is in the en_US catalog.
</pre></div>
</div>
</div>
<div class="section" id="finding-message-catalogs-at-runtime">
<h2>Finding Message Catalogs at Runtime<a class="headerlink" href="#finding-message-catalogs-at-runtime" title="Permalink to this headline">¶</a></h2>
<p>As described earlier, the <em>locale directory</em> containing the message
catalogs is organized based on the language with catalogs named for
the <em>domain</em> of the program.  Different operating systems define their
own default value, but <code class="docutils literal notranslate"><span class="pre">gettext</span></code> does not know all of these
defaults.  It uses a default locale directory of <code class="docutils literal notranslate"><span class="pre">sys.prefix</span> <span class="pre">+</span>
<span class="pre">'/share/locale'</span></code>, but most of the time it is safer to always
explicitly give a <code class="docutils literal notranslate"><span class="pre">localedir</span></code> value than to depend on this default
being valid.  The <code class="docutils literal notranslate"><span class="pre">find()</span></code> function is responsible for locating an
appropriate message catalog at runtime.</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">gettext_find.py</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gettext</span>

<span class="n">catalogs</span> <span class="o">=</span> <span class="n">gettext</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;example&#39;</span><span class="p">,</span> <span class="s1">&#39;locale&#39;</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Catalogs:&#39;</span><span class="p">,</span> <span class="n">catalogs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The language portion of the path is taken from one of several
environment variables that can be used to configure localization
features (<code class="docutils literal notranslate"><span class="pre">LANGUAGE</span></code>, <code class="docutils literal notranslate"><span class="pre">LC_ALL</span></code>, <code class="docutils literal notranslate"><span class="pre">LC_MESSAGES</span></code>, and <code class="docutils literal notranslate"><span class="pre">LANG</span></code>).
The first variable found to be set is used.  Multiple languages can be
selected by separating the values with a colon (<code class="docutils literal notranslate"><span class="pre">:</span></code>).  To see how
that works, use a second message catalog to run a few experiments.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ cd locale/en_CA/LC_MESSAGES; msgfmt -o example.mo example.po
$ cd ../../..
$ python3 gettext_find.py

Catalogs: [&#39;locale/en_US/LC_MESSAGES/example.mo&#39;]

$ LANGUAGE=en_CA python3 gettext_find.py

Catalogs: [&#39;locale/en_CA/LC_MESSAGES/example.mo&#39;]

$ LANGUAGE=en_CA:en_US python3 gettext_find.py

Catalogs: [&#39;locale/en_CA/LC_MESSAGES/example.mo&#39;,
&#39;locale/en_US/LC_MESSAGES/example.mo&#39;]

$ LANGUAGE=en_US:en_CA python3 gettext_find.py

Catalogs: [&#39;locale/en_US/LC_MESSAGES/example.mo&#39;,
&#39;locale/en_CA/LC_MESSAGES/example.mo&#39;]
</pre></div>
</div>
<p>Although <code class="docutils literal notranslate"><span class="pre">find()</span></code> shows the complete list of catalogs, only the
first one in the sequence is actually loaded for message lookups.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 gettext_example_corrected.py

This message is in the en_US catalog.

$ LANGUAGE=en_CA python3 gettext_example_corrected.py

This message is in the en_CA catalog.

$ LANGUAGE=en_CA:en_US python3 gettext_example_corrected.py

This message is in the en_CA catalog.

$ LANGUAGE=en_US:en_CA python3 gettext_example_corrected.py

This message is in the en_US catalog.
</pre></div>
</div>
</div>
<div class="section" id="plural-values">
<h2>Plural Values<a class="headerlink" href="#plural-values" title="Permalink to this headline">¶</a></h2>
<p>While simple message substitution will handle most translation needs,
<code class="docutils literal notranslate"><span class="pre">gettext</span></code> treats pluralization as a special case.  Depending on
the language, the difference between the singular and plural forms of
a message may vary only by the ending of a single word, or the entire
sentence structure may be different.  There may also be different
forms depending on the level of plurality.  To make managing plurals
easier (and, in some cases, possible), there is a separate set of
functions for asking for the plural form of a message.</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">gettext_plural.py</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gettext</span> <span class="k">import</span> <span class="n">translation</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">translation</span><span class="p">(</span><span class="s1">&#39;plural&#39;</span><span class="p">,</span> <span class="s1">&#39;locale&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">msg</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">ngettext</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{num}</span><span class="s1"> means singular.&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;</span><span class="si">{num}</span><span class="s1"> means plural.&#39;</span><span class="p">,</span>
                 <span class="n">num</span><span class="p">)</span>

<span class="c1"># Still need to add the values to the message ourself.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="n">num</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">ngettext()</span></code> to access the plural substitution for a message.
The arguments are the messages to be translated and the item count.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ xgettext -L Python -o plural.pot gettext_plural.py
</pre></div>
</div>
<p>Since there are alternate forms to be translated, the replacements are
listed in an array.  Using an array allows translations for languages
with multiple plural forms (for example, Polish has different forms
indicating the relative quantity).</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">plural.pot</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># SOME DESCRIPTIVE TITLE.</span>
<span class="c1"># Copyright (C) YEAR THE PACKAGE&#39;S COPYRIGHT HOLDER</span>
<span class="c1"># This file is distributed under the same license as the PACKAGE package.</span>
<span class="c1"># FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR.</span>
<span class="c1">#</span>
<span class="c1">#, fuzzy</span>
<span class="n">msgid</span> <span class="s2">&quot;&quot;</span>
<span class="n">msgstr</span> <span class="s2">&quot;&quot;</span>
<span class="s2">&quot;Project-Id-Version: PACKAGE VERSION</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Report-Msgid-Bugs-To: </span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;POT-Creation-Date: 2018-03-18 16:20-0400</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Last-Translator: FULL NAME &lt;EMAIL@ADDRESS&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Language-Team: LANGUAGE &lt;LL@li.org&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Language: </span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;MIME-Version: 1.0</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Content-Type: text/plain; charset=CHARSET</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Content-Transfer-Encoding: 8bit</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Plural-Forms: nplurals=INTEGER; plural=EXPRESSION;</span><span class="se">\n</span><span class="s2">&quot;</span>

<span class="c1">#: gettext_plural.py:15</span>
<span class="c1">#, python-brace-format</span>
<span class="n">msgid</span> <span class="s2">&quot;</span><span class="si">{num}</span><span class="s2"> means singular.&quot;</span>
<span class="n">msgid_plural</span> <span class="s2">&quot;</span><span class="si">{num}</span><span class="s2"> means plural.&quot;</span>
<span class="n">msgstr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="s2">&quot;&quot;</span>
<span class="n">msgstr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;&quot;</span>
</pre></div>
</div>
</div>
<p>In addition to filling in the translation strings, the library needs
to be told about the way plurals are formed so it knows how to index
into the array for any given count value.  The line <code class="docutils literal notranslate"><span class="pre">&quot;Plural-Forms:</span>
<span class="pre">nplurals=INTEGER;</span> <span class="pre">plural=EXPRESSION;\n&quot;</span></code> includes two values to
replace manually.  <code class="docutils literal notranslate"><span class="pre">nplurals</span></code> is an integer indicating the size of
the array (the number of translations used) and <code class="docutils literal notranslate"><span class="pre">plural</span></code> is a C
language expression for converting the incoming quantity to an index
in the array when looking up the translation.  The literal string
<code class="docutils literal notranslate"><span class="pre">n</span></code> is replaced with the quantity passed to <code class="docutils literal notranslate"><span class="pre">ungettext()</span></code>.</p>
<p>For example, English includes two plural forms.  A quantity of <code class="docutils literal notranslate"><span class="pre">0</span></code>
is treated as plural (“0 bananas”).  The <code class="docutils literal notranslate"><span class="pre">Plural-Forms</span></code> entry is:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Plural</span><span class="o">-</span><span class="n">Forms</span><span class="p">:</span> <span class="n">nplurals</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span> <span class="n">plural</span><span class="o">=</span><span class="n">n</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</div>
<p>The singular translation would then go in position 0, and the plural
translation in position 1.</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">locale/en_US/LC_MESSAGES/plural.po</span><a class="headerlink" href="#id8" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Messages from gettext_plural.py</span>
<span class="c1"># Copyright (C) 2009 Doug Hellmann</span>
<span class="c1"># This file is distributed under the same license </span>
<span class="c1"># as the PyMOTW package.</span>
<span class="c1"># Doug Hellmann &lt;doug@doughellmann.com&gt;, 2016.</span>
<span class="c1">#</span>
<span class="c1">#, fuzzy</span>
<span class="n">msgid</span> <span class="s2">&quot;&quot;</span>
<span class="n">msgstr</span> <span class="s2">&quot;&quot;</span>
<span class="s2">&quot;Project-Id-Version: PyMOTW-3</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Report-Msgid-Bugs-To: Doug Hellmann &lt;doug@doughellmann.com&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;POT-Creation-Date: 2016-01-24 13:04-0500</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;PO-Revision-Date: 2016-01-24 13:04-0500</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Last-Translator: Doug Hellmann &lt;doug@doughellmann.com&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Language-Team: en_US &lt;doug@doughellmann.com&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;MIME-Version: 1.0</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Content-Type: text/plain; charset=UTF-8</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Content-Transfer-Encoding: 8bit</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="s2">&quot;Plural-Forms: nplurals=2; plural=n != 1;&quot;</span>

<span class="c1">#: gettext_plural.py:15</span>
<span class="c1">#, python-format</span>
<span class="n">msgid</span> <span class="s2">&quot;</span><span class="si">{num}</span><span class="s2"> means singular.&quot;</span>
<span class="n">msgid_plural</span> <span class="s2">&quot;</span><span class="si">{num}</span><span class="s2"> means plural.&quot;</span>
<span class="n">msgstr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="s2">&quot;In en_US, </span><span class="si">{num}</span><span class="s2"> is singular.&quot;</span>
<span class="n">msgstr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="s2">&quot;In en_US, </span><span class="si">{num}</span><span class="s2"> is plural.&quot;</span>
</pre></div>
</div>
</div>
<p>Running the test script a few times after the catalog is compiled will
demonstrate how different values of N are converted to indexes for the
translation strings.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ cd locale/en_US/LC_MESSAGES/; msgfmt -o plural.mo plural.po
$ cd ../../..
$ python3 gettext_plural.py 0

In en_US, 0 is plural.

$ python3 gettext_plural.py 1

In en_US, 1 is singular.

$ python3 gettext_plural.py 2

In en_US, 2 is plural.
</pre></div>
</div>
</div>
<div class="section" id="application-vs-module-localization">
<h2>Application vs. Module Localization<a class="headerlink" href="#application-vs-module-localization" title="Permalink to this headline">¶</a></h2>
<p>The scope of a translation effort defines how <code class="docutils literal notranslate"><span class="pre">gettext</span></code> is
installed and used with a body of code.</p>
<div class="section" id="application-localization">
<h3>Application Localization<a class="headerlink" href="#application-localization" title="Permalink to this headline">¶</a></h3>
<p>For application-wide translations, it is acceptable for the
author to install a function like <code class="docutils literal notranslate"><span class="pre">ngettext()</span></code> globally using the
<code class="docutils literal notranslate"><span class="pre">__builtins__</span></code> namespace, because they have control over the
top-level of the application’s code.</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">gettext_app_builtin.py</span><a class="headerlink" href="#id9" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gettext</span>

<span class="n">gettext</span><span class="o">.</span><span class="n">install</span><span class="p">(</span>
    <span class="s1">&#39;example&#39;</span><span class="p">,</span>
    <span class="s1">&#39;locale&#39;</span><span class="p">,</span>
    <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ngettext&#39;</span><span class="p">],</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;This message is in the script.&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">install()</span></code> function binds <code class="docutils literal notranslate"><span class="pre">gettext()</span></code> to the name <code class="docutils literal notranslate"><span class="pre">_()</span></code>
in the <code class="docutils literal notranslate"><span class="pre">__builtins__</span></code> namespace.  It also adds <code class="docutils literal notranslate"><span class="pre">ngettext()</span></code> and
other functions listed in <code class="docutils literal notranslate"><span class="pre">names</span></code>.</p>
</div>
<div class="section" id="module-localization">
<h3>Module Localization<a class="headerlink" href="#module-localization" title="Permalink to this headline">¶</a></h3>
<p>For a library or individual module, modifying <code class="docutils literal notranslate"><span class="pre">__builtins__</span></code> is not
a good idea because it may introduce conflicts with an application
global value.  Instead, import or re-bind the names of translation
functions by hand at the top of the module.</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">gettext_module_global.py</span><a class="headerlink" href="#id10" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gettext</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">gettext</span><span class="o">.</span><span class="n">translation</span><span class="p">(</span>
    <span class="s1">&#39;example&#39;</span><span class="p">,</span>
    <span class="s1">&#39;locale&#39;</span><span class="p">,</span>
    <span class="n">fallback</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">gettext</span>
<span class="n">ngettext</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">ngettext</span>

<span class="nb">print</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;This message is in the script.&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="switching-translations">
<h2>Switching Translations<a class="headerlink" href="#switching-translations" title="Permalink to this headline">¶</a></h2>
<p>The earlier examples all use a single translation for the duration of
the program.  Some situations, especially web applications, need to
use different message catalogs at different times, without exiting and
resetting the environment.  For those cases, the class-based API
provided in <code class="docutils literal notranslate"><span class="pre">gettext</span></code> will be more convenient.  The API calls are
essentially the same as the global calls described in this section,
but the message catalog object is exposed and can be manipulated
directly, so that multiple catalogs can be used.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference external" href="https://docs.python.org/3.7/library/gettext.html">Standard library documentation for gettext</a></li>
<li><a class="reference internal" href="../locale/index.html#module-locale" title="locale: POSIX cultural localization API"><code class="xref py py-mod docutils literal notranslate"><span class="pre">locale</span></code></a> – Other localization tools.</li>
<li><a class="reference external" href="http://www.gnu.org/software/gettext/">GNU gettext</a> – The message catalog formats, API, etc. for this
module are all based on the original gettext package from GNU.
The catalog file formats are compatible, and the command line
scripts have similar options (if not identical).  The <a class="reference external" href="http://www.gnu.org/software/gettext/manual/gettext.html">GNU
gettext manual</a> has
a detailed description of the file formats and describes GNU
versions of the tools for working with them.</li>
<li><a class="reference external" href="http://www.gnu.org/software/gettext/manual/gettext.html#Plural-forms">Plural forms</a>
– Handling of plural forms of words and sentences in different
languages.</li>
<li><a class="reference external" href="http://legacy.python.org/workshops/1997-10/proceedings/loewis.html">Internationalizing Python</a>
– A paper by Martin von Löwis about techniques for
internationalization of Python applications.</li>
<li><a class="reference external" href="https://docs.djangoproject.com/en/dev/topics/i18n/">Django Internationalization</a> – Another
good source of information on using gettext, including real-life
examples.</li>
</ul>
</div>
</div>
</div>



        <div id="footer-nav">
<a id="prev-link" href="../i18n.html"
   title="previous chapter"><i class="fa fa-arrow-circle-left"></i> Internationalization and Localization</a>
<a id="next-link" href="../locale/index.html"
   title="next chapter">locale — Cultural Localization API <i class="fa fa-arrow-circle-right"></i></a>
        </div>

        </div>
      </div>

      <div class="pure-u-1-4">
        <div class="sidebar-wrapper">
          <div class="sidebar">
<div id="sidebar-toc">
  <h5>Quick Links</h5>
  <ul>
    
    <li><a href="#translation-workflow-overview"><i class="fa fa-caret-right"></i>Translation Workflow Overview</a></li>
    
    <li><a href="#creating-message-catalogs-from-source-code"><i class="fa fa-caret-right"></i>Creating Message Catalogs from Source Code</a></li>
    
    <li><a href="#finding-message-catalogs-at-runtime"><i class="fa fa-caret-right"></i>Finding Message Catalogs at Runtime</a></li>
    
    <li><a href="#plural-values"><i class="fa fa-caret-right"></i>Plural Values</a></li>
    
    <li><a href="#application-vs-module-localization"><i class="fa fa-caret-right"></i>Application vs. Module Localization</a></li>
    
    <li><a href="#application-localization"><i class="fa fa-caret-right"></i>Application Localization</a></li>
    
    <li><a href="#module-localization"><i class="fa fa-caret-right"></i>Module Localization</a></li>
    
    <li><a href="#switching-translations"><i class="fa fa-caret-right"></i>Switching Translations</a></li>
    
  </ul>
</div>

          </div>
          <div class="sidebar"><div id="sidebar-last-updated">
  This page was last updated 2016-12-18.
</div>

          </div>
          <div class="sidebar">
<div id="sidebar-nav">
  <h5>Navigation</h5>
  <ul>
    <li><a href="../i18n.html"
           title="previous chapter"><i class="fa fa-arrow-circle-left"></i>Internationalization and Localization</a></li>
    <li><a href="../locale/index.html"
           title="next chapter"><i class="fa fa-arrow-circle-right"></i>locale — Cultural Localization API</a></li>
  </ul>
</div>
          </div>
          <div class="sidebar"><div id="sidebar-book"><a target="new" href="https://doughellmann.com/books/the-python-3-standard-library-by-example/"><img src="../_static/book-cover-image-med.jpg"><br>Get the book</a></div>
          </div>
          <div class="sidebar"><div id="sidebar-example-disclaimer">
<p>The output from all the example programs
from PyMOTW-3 has been generated with Python 3.7.9, unless
otherwise noted. Some of the features described here may not be
available in earlier versions of Python.</p>
<p>Looking for <a href="/2/">examples for Python 2</a>?</p>
</div>
          </div>

        </div>
      </div>

    </div>

    <div class="pure-g-r" id="footer">

      <div class="pure-u-1-3">
        <div class="footer-list">
            <h4>This Site</h4>
            <ul>
              <li><a href="../py-modindex.html"><i class="fa fa-list fa-lg"></i> Module Index</a></li>
              <li><a href="../genindex.html"><i class="fa fa-italic fa-lg"></i> Index</a></li>
            </ul>
        </div>
      </div><div class="pure-u-1-3">
          <div class="footer-content">
            <div class="socialmedia">
              <a class="sociallink" href="../index.html"
       title="Home">
      <i class="fa fa-home fa-lg"></i></a>
              <a class="sociallink" href="../about.html"
       title="About">
      <i class="fa fa-user fa-lg"></i></a>
              <a class="sociallink" href="http://www.twitter.com/pymotw"
       title="Twitter">
      <i class="fa fa-twitter fa-lg"></i></a>
              <a class="sociallink" href="https://feeds.feedburner.com/PyMOTW"
       title="Subscribe via RSS">
      <i class="fa fa-rss-square fa-lg"></i></a>
              <a class="sociallink" href="http://feedburner.google.com/fb/a/mailverify?uri=PyMOTW&amp;loc=en_US"
       title="Subscribe via Email">
      <i class="fa fa-envelope fa-lg"></i></a>
            </div>

            <div class="copyright">
              <a rel="author" href="../about.html">&copy; Copyright 2021, Doug Hellmann</a>
            </div>

            <div class="cc"><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.en_US" rel="license"><img alt="Creative Commons License BY-NC-SA" style="border-width:0; align: center;" width="88" height="31" src="data:image/png;base64,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"/></a>
            </div>

          </div></div><div class="pure-u-1-3">
          <div class="footer-list">
            <h4>Other Writing</h4>
            <ul>
              <li><a href="https://doughellmann.com/"><i class="fa fa-pencil fa-lg"></i> Blog</a></li>
              <li><a href="https://doughellmann.com/books/the-python-3-standard-library-by-example/"><i class="fa fa-book fa-lg"></i> The Python Standard Library By Example</a></li>
            </ul>
          </div>
        </div><script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-38546875-3', 'pymotw.com');
  ga('send', 'pageview');
</script>

  </body>
</html>